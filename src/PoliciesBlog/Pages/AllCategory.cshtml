@page
@model PoliciesBlog.Pages.AllCategoryModel

@using ModelData.Services;
@inject ISettingsService SettingsService
@{
    ModelData.Models.Setting siteSettings = await SettingsService.GetSettingsAsync();

}




<div class="container" style="margin-top:10px;">
        <div class="row no-gutter">
            <div class="col-md-8">
                <div class="post post-full clearfix">
                    <div class="row g-4">
                        @foreach (var category in Model.MainCategories)
                        {
                            <div class="col-md-4 col-sm-6">
                                <div class="category-box p-4 h-100 shadow-sm rounded">
                                    <h5 class="fw-bold text-primary mb-3">@category.Title</h5>

                                    @if (category.Children?.Any() == true)
                                    {
                                        <ul class="list-unstyled mb-0">
                                            @foreach (var sub in category.Children.OrderBy(c => c.SortOrder))
                                            {
                                                <li class="mb-1">
                                                    <i class="bi bi-chevron-right small text-muted me-1"></i>
                                                    <a asp-page="/CategoryPage" asp-route-slug="@sub.Slug" class="text-secondary small">
                                                        @sub.Title
                                                    </a>
                                                </li>
                                            }
                                        </ul>
                                    }
                                    else
                                    {
                                        <p class="text-muted small">No subcategories</p>
                                    }
                                </div>
                            </div>
                        }
                    </div>
                </div>

            </div>
            <div class="col-md-4">
                <partial name="_TopSideBar" />

                <partial name="_TopSideBarBottom" />


            </div>
        </div>

    </div>
 





