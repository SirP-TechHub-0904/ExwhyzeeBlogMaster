@using Microsoft.AspNetCore.Hosting
@using Microsoft.AspNetCore.Mvc.ViewEngines
@inject IWebHostEnvironment Environment
@inject ICompositeViewEngine Engine
@using Microsoft.AspNetCore.Authorization
@inject IAuthorizationService AuthorizationService
@using ModelData.Services;
@inject ISettingsService SettingsService
@inject ICategoryServices CategoryServices
@inject IWebPageService WebPageService
@inject IPostServices PostServices
@inject IAdvertService AdvertServices

@using Microsoft.AspNetCore.Identity
@using ModelData.Models  <!-- Replace with actual namespace -->
@inject UserManager<ApplicationUser> UserManager
@inject SignInManager<ApplicationUser> SignInManager

@{
    ModelData.Models.Setting siteSettings = await SettingsService.GetSettingsAsync();
    List<ModelData.Models.Category> itemCategories = await CategoryServices.GetCategoriesAsync();
    List<ModelData.Models.WebPage> itemWebPages = await WebPageService.GetPublishedPages();
    List<ModelData.Models.Post> itemPost = await PostServices.GetPublishedPosts();
    List<ModelData.Models.Post> mostViewdPosts = await PostServices.GetTopViewedPostsAsync(count: 3);
    List<ModelData.Models.Post> breakingNew = await PostServices.GetBrakingNews(count: 10);
    List<ModelData.Models.Advert> itemAdert = await AdvertServices.GetAdvertsAsync();

    var plainDescription = System.Text.RegularExpressions.Regex.Replace(siteSettings.SiteDescription ?? "", "<.*?>", "");
}

<!DOCTYPE html>

<html class="js sizes customelements history pointerevents postmessage postmessage-structuredclones webgl websockets cssanimations csscolumns csscolumns-width csscolumns-span csscolumns-fill csscolumns-gap csscolumns-rule csscolumns-rulecolor csscolumns-rulestyle csscolumns-rulewidth csscolumns-breakbefore csscolumns-breakafter csscolumns-breakinside flexbox picture srcset webworkers" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>
        @($"{ViewBag.Title} | {siteSettings.SiteTitle} | {plainDescription}")

    </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="@siteSettings.FaviconUrl">
    <partial name="_MetaTags" />

    <!-- CSS
    ============================================ -->
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="~/assets/bootstrap.min.css">
    <!-- Icon Font CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="~/assets/plugins.css">
    <!-- ycp -->
    <link rel="stylesheet" href="~/assets/ycp.css">
    <!-- Style CSS -->
    <link rel="stylesheet" href="~/assets/style.css">
    <!-- Modernizer JS -->
    <script src="~/assets/modernizr-3.11.2.min.js"></script>
    <link href="~/css/site.css" rel="stylesheet" />
    <link href="~/_content/AdminUI/css/web.css" rel="stylesheet" />

    <!-- In your <head> -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />

    <style>
        @Html.Raw(siteSettings.CustomCSS)
    </style>
    @Html.Raw(siteSettings.CustomHeadScript)
    @Html.Raw(siteSettings.GoogleAnalyticsId)
    @Html.Raw(siteSettings.GoogleTagManagerId)
    @Html.Raw(siteSettings.FacebookPixelId)

</head>

<body>
    @Html.Raw(siteSettings.CustomJS)
    @if (siteSettings.EnableLiveChat)
    {
        @siteSettings.LiveChatScript
    }
    <!-- Main Wrapper -->
    <div id="main-wrapper">

        <!-- Header Top Start -->
        <div class="header-top header-top-2 section">
            <div class="container">
                <div class="row">

                    <!-- Header Top Links Start -->
                    <div class="header-top-links col-md-9 col-6">

                        <!-- Header Links -->
                        <ul class="header-links header-links-2">
                            <li id="currentDateTime" class="disabled block d-none d-md-block">
                                <a href="#"><i class="fa fa-clock-o"></i> </a>
                            </li>


                            <partial name="_LoginPartial" />
                        </ul>

                    </div><!-- Header Top Links End -->
                    <!-- Header Top Social Start -->
                    <div class="header-top-social col-md-3 col-6">

                        <!-- Header Social -->
                        <div class="header-social header-social-2">

                            @if (!string.IsNullOrWhiteSpace(siteSettings.FacebookUrl))
                            {

                                <a href="@siteSettings.FacebookUrl" title="Facebook" target="_blank">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>

                            }

                            @if (!string.IsNullOrWhiteSpace(siteSettings.TwitterUrl))
                            {

                                <a href="@siteSettings.TwitterUrl" title="Twitter" target="_blank">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>

                            }

                            @if (!string.IsNullOrWhiteSpace(siteSettings.LinkedInUrl))
                            {

                                <a href="@siteSettings.LinkedInUrl" title="LinkedIn" target="_blank">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>

                            }

                            @if (!string.IsNullOrWhiteSpace(siteSettings.InstagramUrl))
                            {

                                <a href="@siteSettings.InstagramUrl" title="Instagram" target="_blank">
                                    <i class="fa fa-instagram" aria-hidden="true"></i>
                                </a>

                            }

                            @if (!string.IsNullOrWhiteSpace(siteSettings.YouTubeUrl))
                            {

                                <a href="@siteSettings.YouTubeUrl" title="YouTube" target="_blank">
                                    <i class="fa fa-youtube" aria-hidden="true"></i>
                                </a>

                            }

                            @if (!string.IsNullOrWhiteSpace(siteSettings.TikTokUrl))
                            {

                                <a href="@siteSettings.TikTokUrl" title="TikTok" target="_blank">
                                    <i class="fa fa-music" aria-hidden="true"></i>
                                </a>

                            }
                        </div>

                    </div><!-- Header Top Social End -->

                </div>
            </div>
        </div><!-- Header Top End -->
        <!-- Breaking News Section Start -->
        <div class="breaking-news-section breaking-news-section-2 section">
            <div class="container">
                <div class="row">
                    <div class="col-12">

                        <!-- Breaking News Wrapper Start -->
                        <div class="breaking-news-wrapper breaking-news-wrapper-2">

                            <!-- Breaking News Title -->
                            <h5 class="breaking-news-title float-start">Breaking News</h5>

                            <!-- Breaking Newsticker Start -->
                            <ul class="breaking-news-ticker float-start" style="height: 40px; overflow: hidden;">

                                @foreach (var item in breakingNew)
                                {
                                    <li style="margin-top: 0px;">
                                        <a asp-page="/PostPage" asp-route-slug="@item.Slug">@item.Title</a>
                                    </li>


                                }


                            </ul><!-- Breaking Newsticker Start -->
                            <!-- Breaking News Nav -->
                            <div class="breaking-news-nav">
                                <button class="news-ticker-prev"><i class="fa fa-angle-left"></i></button>
                                <button class="news-ticker-next"><i class="fa fa-angle-right"></i></button>
                            </div>

                        </div><!-- Breaking News Wrapper End -->

                    </div>
                </div>
            </div>
        </div><!-- Breaking News Section End -->
        <!-- Header Start -->
        <div class="header-section section">
            <div class="container">
                <div class="row align-items-center">

                    <!-- Header Logo -->
                    <div class="header-logo col-md-4 d-none d-md-block">
                        <a href="/" class="logo"><img src="@siteSettings.SiteLogoUrl" alt="@siteSettings.SiteTitle" /></a>
                    </div>

                    <!-- Header Banner -->
                    <div class="header-banner col-md-8 col-12">
                        <div class="banner">

                            @{
                                ModelData.Models.Advert sideadvert = itemAdert.FirstOrDefault(x => x.Position == ModelData.Models.AdvertPosition.MainTop);
                            }
                            @if (sideadvert != null)
                            {
                                <a href="@sideadvert.Link" target="_blank">
                                    <img src="@sideadvert.ImageUrl" alt="@sideadvert.Title" class="img-fluid">
                                </a>
                            }

                        </div>
                    </div>

                </div>
            </div>
        </div><!-- Header End -->
        <!-- Menu Section Start -->
        <div class="menu-section section bg-dark">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="menu-section-wrap">

                            <!-- Main Menu Start -->
                            <div class="main-menu float-start d-none d-md-block">
                                <nav>
                                    <ul>
                                        <li>
                                            <a href="/">Home</a>
                                        </li>
                                        @foreach (var sitepage in itemWebPages.Where(x => x.ShowInMenu == true).Where(x => x.MenuSortOrder > 0))
                                        {
                                            <li>
                                                @if (sitepage.EnableDirectLink)
                                                {
                                                    <a href="@sitepage.DirectLinkUrl" target="@(sitepage.DirectLinkOpenInNewTab ? "_blank" : "_self")">@sitepage.Title</a>

                                                }
                                                else
                                                {
                                                    <a asp-page="/Webpage" asp-route-slug="@sitepage.Slug">@sitepage.Title</a>
                                                }
                                            </li>
                                        }

                                        @foreach (var sitecategory in itemCategories.Where(x => x.ShowInMenu == true))
                                        {
                                            @if (sitecategory.Children.Count() > 0)
                                            {
                                                <li class="has-dropdown">
                                                    <a asp-page="/CategoryPage" asp-route-slug="@sitecategory.Slug">@sitecategory.Title</a>

                                                    <!-- Submenu Start -->
                                                    <ul class="sub-menu">
                                                        @foreach (var list in sitecategory.Children.Where(x => x.IsPublished == true))
                                                        {
                                                            <li>
                                                                <a asp-page="/CategoryPage" asp-route-slug="@list.Slug">@list.Title</a>
                                                            </li>
                                                        }
                                                    </ul><!-- Submenu End -->

                                                </li>

                                            }
                                            else
                                            {
                                                <li> <a asp-page="/CategoryPage" asp-route-slug="@sitecategory.Slug">@sitecategory.Title</a></li>
                                            }

                                        }

                                        @foreach (var sitepage in itemWebPages.Where(x => x.ShowInMenu == true).Where(x => x.MenuSortOrder < 0))
                                        {
                                            <li>
                                                @if (sitepage.EnableDirectLink)
                                                {
                                                    <a href="@sitepage.DirectLinkUrl" target="@(sitepage.DirectLinkOpenInNewTab ? "_blank" : "_self")">@sitepage.Title</a>

                                                }
                                                else
                                                {
                                                    <a asp-page="/Webpage" asp-route-slug="@sitepage.Slug">@sitepage.Title</a>
                                                }
                                            </li>
                                        }


                                    </ul>
                                </nav>
                            </div><!-- Main Menu Start -->

                            <div class="mobile-logo d-md-none"><a href="/"><img src="@siteSettings.SiteLogoUrl" alt="@siteSettings.SiteTitle" /></a></div>

                            <!-- Header Search -->
                            <div class="header-search float-end">

                                <!-- Search Toggle -->
                                <button class="header-search-toggle"><i class="fa fa-search"></i></button>

                                <!-- Header Search Form -->
                                <div class="header-search-form" style="display: none;">
                                    <form method="get" asp-page="/Search">
                                        <input type="text" name="query" placeholder="Search Here">
                                    </form>
                                </div>

                            </div>

                            <!-- Mobile Menu Wrap -->
                            <div class="mobile-menu-wrap d-none" style="display: block;">
                                <nav>
                                    <ul>
                                        <li>
                                            <a href="/">Home</a>
                                        </li>
                                        @foreach (var sitepage in itemWebPages.Where(x => x.ShowInMenu == true).Where(x => x.MenuSortOrder > 0))
                                        {
                                            <li>
                                                @if (sitepage.EnableDirectLink)
                                                {
                                                    <a href="@sitepage.DirectLinkUrl" target="@(sitepage.DirectLinkOpenInNewTab ? "_blank" : "_self")">@sitepage.Title</a>

                                                }
                                                else
                                                {
                                                    <a asp-page="/Webpage" asp-route-slug="@sitepage.Slug">@sitepage.Title</a>
                                                }
                                            </li>
                                        }

                                        @foreach (var sitecategory in itemCategories.Where(x => x.ShowInMenu == true))
                                        {
                                            <li>
                                                @if (sitecategory.Children.Count() > 0)
                                                {

                                                    <a asp-page="/CategoryPage" asp-route-slug="@sitecategory.Slug">@sitecategory.Title</a>

                                                    <ul class="sub-menu">
                                                        @foreach (var list in sitecategory.Children.Where(x => x.IsPublished == true))
                                                        {
                                                            <li>
                                                                <a asp-page="/CategoryPage" asp-route-slug="@list.Slug">@list.Title</a>
                                                            </li>
                                                        }
                                                    </ul>
                                                }
                                                else
                                                {
                                                    <a asp-page="/CategoryPage" asp-route-slug="@sitecategory.Slug">@sitecategory.Title</a>
                                                }

                                            </li>
                                        }
                                        @foreach (var sitepage in itemWebPages.Where(x => x.ShowInMenu == true).Where(x => x.MenuSortOrder < 0))
                                        {
                                            <li>
                                                @if (sitepage.EnableDirectLink)
                                                {
                                                    <a href="@sitepage.DirectLinkUrl" target="@(sitepage.DirectLinkOpenInNewTab ? "_blank" : "_self")">@sitepage.Title</a>

                                                }
                                                else
                                                {
                                                    <a asp-page="/Webpage" asp-route-slug="@sitepage.Slug">@sitepage.Title</a>
                                                }
                                            </li>
                                        }

                                    </ul>
                                </nav>
                            </div>

                            <!-- Mobile Menu -->
                            <div class="mobile-menu"></div>

                        </div>
                    </div>
                </div>
            </div>
        </div><!-- Menu Section End -->
        <form asp-area="Identity" id="logoutForm" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Page("/Account/Login", new { area = "Identity" })" method="post">
        </form>
        @RenderBody()

        <!-- Footer Top Section Start -->
        <div class="footer-top-section section bg-dark major-footer-01">
            <div class="container-fluid">
                <div class="row">

                    <!-- Footer Widget Start -->
                    <div class="footer-widget col-xl-3 col-md-6 col-12 mb-60 about-footer-01">

                        <!-- Title -->
                        <h4 class="widget-title">@siteSettings.SiteTitle</h4>

                        <div class="content fix">
                            <p>

                                @plainDescription
                            </p>

                            <!-- Footer Contact -->
                            <ol class="footer-contact">

                                @if (!string.IsNullOrWhiteSpace(siteSettings.Address))
                                {
                                    <li><i class="fa fa-home"></i> @Html.Raw(siteSettings.Address)</li>
                                }
                                @if (!string.IsNullOrWhiteSpace(siteSettings.ContactEmail))
                                {
                                    <li><i class="fa fa-envelope-open"></i> @Html.Raw(siteSettings.ContactEmail)</li>
                                }
                                @if (!string.IsNullOrWhiteSpace(siteSettings.ContactPhone))
                                {
                                    <li><i class="fa fa-headphones"></i> @Html.Raw(siteSettings.ContactPhone)</li>
                                }


                            </ol>

                            <!-- Footer Social -->

                            <div class="footer-social">
                                @if (!string.IsNullOrWhiteSpace(siteSettings.FacebookUrl))
                                {

                                    <a href="@siteSettings.FacebookUrl" title="Facebook" target="_blank">
                                        <i class="fa fa-facebook" aria-hidden="true"></i>
                                    </a>

                                }

                                @if (!string.IsNullOrWhiteSpace(siteSettings.TwitterUrl))
                                {

                                    <a href="@siteSettings.TwitterUrl" title="Twitter" target="_blank">
                                        <i class="fa fa-twitter" aria-hidden="true"></i>
                                    </a>

                                }

                                @if (!string.IsNullOrWhiteSpace(siteSettings.LinkedInUrl))
                                {

                                    <a href="@siteSettings.LinkedInUrl" title="LinkedIn" target="_blank">
                                        <i class="fa fa-linkedin" aria-hidden="true"></i>
                                    </a>

                                }

                                @if (!string.IsNullOrWhiteSpace(siteSettings.InstagramUrl))
                                {

                                    <a href="@siteSettings.InstagramUrl" title="Instagram" target="_blank">
                                        <i class="fa fa-instagram" aria-hidden="true"></i>
                                    </a>

                                }

                                @if (!string.IsNullOrWhiteSpace(siteSettings.YouTubeUrl))
                                {

                                    <a href="@siteSettings.YouTubeUrl" title="YouTube" target="_blank">
                                        <i class="fa fa-youtube" aria-hidden="true"></i>
                                    </a>

                                }

                                @if (!string.IsNullOrWhiteSpace(siteSettings.TikTokUrl))
                                {

                                    <a href="@siteSettings.TikTokUrl" title="TikTok" target="_blank">
                                        <i class="fa fa-music" aria-hidden="true"></i>
                                    </a>

                                }
                            </div>
                        </div>

                    </div><!-- Footer Widget End -->
                    <!-- Footer Widget Start -->
                    <div class="footer-widget col-xl-3 col-md-6 col-12 mb-60 xpopular-news">

                        <!-- Title -->
                        <h4 class="widget-title">popular News</h4>
                        @foreach (var item in mostViewdPosts)
                        {


                            <!-- Footer Widget Post Start -->
                            <div class="footer-widget-post">
                                <div class="post-wrap">
                                    @{
                                        var defaultImage = item.PostImages?.FirstOrDefault(x => x.IsDefault);
                                    }
                                    <!-- Image -->
                                    <a asp-page="/PostPage" asp-route-slug="@item.Slug" class="image">
                                        <img src="@(defaultImage?.ImageUrl ?? "/default/default.jpg")" alt="@item.Title">
                                    </a>

                                    <!-- Content -->
                                    <div class="content">

                                        <!-- Title -->
                                        <h5 class="title">
                                            <a asp-page="/PostPage" asp-route-slug="@item.Slug">
                                                @item.Title
                                            </a>
                                        </h5>

                                        <!-- Meta -->
                                        <div class="meta fix">
                                            <span class="meta-item date">
                                                <i class="fa fa-clock-o"></i>                                    @(item.PublishedAt.HasValue
? item.PublishedAt.Value.ToString("MMM dd yyyy")
: "")
                                            </span>
                                        </div>

                                    </div>

                                </div>
                            </div><!-- Footer Widget Post ENd -->

                        }
                    </div><!-- Footer Widget End -->
                    <!-- Footer Widget Start -->
                    <div class="footer-widget col-xl-3 col-md-6 col-12 mb-60 xpage-01">

                        <h4 class="widget-title">Pages</h4>
                        <ul class="popular-categories page-links">
                            @foreach (var xpage in itemWebPages.Where(x => x.ShowInFooter))
                            {
                                <li>
                                    @if (xpage.EnableDirectLink)
                                    {
                                        <a href="@xpage.DirectLinkUrl" target="@(xpage.DirectLinkOpenInNewTab ? "_blank" : "_self")">
                                            <i class="fa fa-globe" aria-hidden="true"></i> @xpage.Title
                                        </a>
                                    }
                                    else
                                    {
                                        <a asp-page="/Webpage" asp-route-slug="@xpage.Slug">
                                            <i class="fa fa-globe" aria-hidden="true"></i> @xpage.Title
                                        </a>
                                    }
                                </li>
                            }
                        </ul>


                    </div><!-- Footer Widget End -->
                    <!-- Footer Widget Start -->
                    <div class="footer-widget col-xl-3 col-md-6 col-12 mb-60 xcategory-01">

                        <!-- Title -->
                        <h4 class="widget-title">Popular Categories</h4>

                        <ul class="popular-categories">
                            @foreach (var cat in itemCategories.Where(x => x.ShowInFooter))
                            {
                                <li>
                                    <a asp-page="/CategoryPage" asp-route-slug="@cat.Slug" class="category-link">
                                        <i class="fa fa-angle-right"></i>
                                        <span class="title">@cat.Title</span>
                                        <span class="count">@(cat.Posts?.Count ?? 0)</span>
                                    </a>
                                </li>
                            }
                        </ul>


                    </div><!-- Footer Widget End -->

                </div>


                @{
                    var widgets = new List<string>();

                    if (!string.IsNullOrWhiteSpace(siteSettings.FacebookWidget)) widgets.Add(siteSettings.FacebookWidget);
                    if (!string.IsNullOrWhiteSpace(siteSettings.TwitterWidget)) widgets.Add(siteSettings.TwitterWidget);
                    if (!string.IsNullOrWhiteSpace(siteSettings.InstagramWidget)) widgets.Add(siteSettings.InstagramWidget);
                    if (!string.IsNullOrWhiteSpace(siteSettings.YouTubeWidget)) widgets.Add(siteSettings.YouTubeWidget);
                    if (!string.IsNullOrWhiteSpace(siteSettings.LinkedInWidget)) widgets.Add(siteSettings.LinkedInWidget);
                    if (!string.IsNullOrWhiteSpace(siteSettings.TikTokWidget)) widgets.Add(siteSettings.TikTokWidget);

                    int count = widgets.Count;
                    string columnClass = count switch
                    {
                        1 => "col-12 text-center",   // Full width, center
                        2 => "col-md-6",            // Two equal columns
                        3 => "col-md-4",            // Three equal columns
                        4 => "col-md-3",            // Four equal columns
                        5 => "col",                 // Auto for 5
                        6 => "col-md-2",            // Six equal columns
                        _ => "col"                  // Default fallback
                    };
                }

                <div class="row g-4 justify-content-center">
                    @foreach (var widget in widgets)
                    {
                        <div class="@columnClass">
                            @Html.Raw(widget)
                        </div>
                    }
                </div>

            </div>
        </div><!-- Footer Top Section End -->
        <!-- Footer Bottom Section Start -->
        <div class="footer-bottom-section section bg-dark">
            <div class="container">
                <div class="row">

                    <!-- Copyright Start -->
                    <div class="copyright text-center col">
                        <p>
                            © @DateTime.UtcNow.Year @siteSettings.SiteTitle.
                        </p>
                    </div><!-- Copyright End -->

                </div>
            </div>
        </div><!-- Footer Bottom Section End -->

    </div>


    <!-- JS
    ============================================ -->
    <!-- jQuery JS -->
    <script src="~/assets/jquery-3.6.0.min.js"></script>
    <script src="~/assets/jquery-migrate-3.3.2.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="~/assets/bootstrap.bundle.min.js"></script>
    <!-- Plugins JS -->
    <script src="~/assets/plugins.js"></script>
    <!-- ycp JS -->
    <script src="~/assets/ycp.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <!-- Main JS -->
    <script src="~/assets/main.js"></script><a id="scrollUp" href="op" style="position: fixed; z-index: 2147483647; display: none;"><i class="fa fa-angle-up"></i></a>
    <script>
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        const now = new Date();
        const formattedDate = now.toLocaleDateString('en-US', options);

        document.getElementById('currentDateTime').querySelector('a').innerHTML = `<i class="fa fa-clock-o"></i> ${formattedDate}`;
    </script>
    <script>
        $(document).on("click", "#subscribeBtn", function () {
            var email = $("#newsletterEmail").val();
            var token = $("#__RequestVerificationToken").val();
            var messageEl = $("#subscribeMessage");

            $.ajax({
                type: "POST",
                url: "/Index?handler=Subscribe",
                data: {
                    NewsletterEmail: email,
                    __RequestVerificationToken: token
                },
                success: function (res) {
                    messageEl.text(res.message);
                    messageEl.css("color", res.success ? "lightgreen" : "yellow");
                    if (res.success) {
                        $("#newsletterEmail").val("");
                    }
                },
                error: function () {
                    messageEl.text("Something went wrong.").css("color", "red");
                }
            });
        });
    </script>

    @await RenderSectionAsync("Scripts", required: false)

    @Html.Raw(siteSettings.CustomFooterScript)


</body>
</html>
